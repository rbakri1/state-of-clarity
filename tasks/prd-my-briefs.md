# PRD: My Briefs Page

## Introduction

Users who generate briefs currently have no way to access them later. The profile page shows a "Briefs generated" count but clicking it does nothing. This feature creates a dedicated "My Briefs" page showing all briefs a user has generated, accessible from both the main navigation header and the profile page.

## Goals

- Create `/my-briefs` page showing all briefs generated by the authenticated user
- Display briefs in grid layout matching homepage showcase style
- Add navigation link to header and profile page
- Enable users to quickly revisit their generated briefs

## User Stories

### US-001: Create My Briefs page route
**Description:** As a developer, I need to create the My Briefs page structure.

**Acceptance Criteria:**
- [ ] Create `/app/my-briefs/page.tsx` 
- [ ] Page requires authentication (redirect to `/` or show auth modal if not logged in)
- [ ] Page fetches briefs from `briefs` table where `user_id` matches current user
- [ ] Order by `created_at` descending (newest first)
- [ ] Typecheck passes (`pnpm run build`)

### US-002: Design My Briefs page with brand styling
**Description:** As a user, I want My Briefs page to match the warm editorial design of the site.

**Acceptance Criteria:**
- [ ] Page background uses `bg-ivory-100`
- [ ] Page header: "My Briefs" title with `font-heading text-2xl font-semibold text-ink-800`
- [ ] Subtitle showing count: "X briefs generated" in `text-ink-500 font-ui`
- [ ] Back link to profile or home using `text-sage-500 hover:text-sage-600`
- [ ] No pure white (#FFFFFF) or pure black (#000000)
- [ ] Typecheck passes
- [ ] Verify in browser using dev-browser skill

### US-003: Implement briefs grid layout
**Description:** As a user, I want to see my generated briefs in a scannable grid.

**Acceptance Criteria:**
- [ ] Grid layout: `grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`
- [ ] Each card shows:
  - Question (title) with `font-heading font-semibold text-ink-800`
  - Clarity score badge with semantic colors
  - Tags (max 2) with `bg-sage-100 text-sage-700`
  - Created date in `text-ink-500 font-ui`
  - Read time if available
- [ ] Cards link to `/brief/[id]`
- [ ] Hover effect: `hover:border-sage-400 hover:shadow-md hover:scale-[1.02]`
- [ ] Focus ring: `focus-visible:ring-2 focus-visible:ring-sage-500`
- [ ] Typecheck passes
- [ ] Verify in browser using dev-browser skill

### US-004: Add empty state
**Description:** As a new user with no briefs, I want helpful guidance on getting started.

**Acceptance Criteria:**
- [ ] Empty state centered with icon (Sparkles or FileText)
- [ ] Heading: "No briefs yet" in `font-heading font-semibold text-ink-800`
- [ ] Subtext: "Ask a question on the homepage to generate your first brief" in `text-ink-500`
- [ ] CTA button: "Ask a Question" linking to `/` with `bg-sage-500 text-ivory-100`
- [ ] Typecheck passes
- [ ] Verify in browser using dev-browser skill

### US-005: Add My Briefs to main navigation header
**Description:** As a user, I want to access My Briefs from the main navigation.

**Acceptance Criteria:**
- [ ] Add "My Briefs" link to header (visible when authenticated)
- [ ] Link uses `text-ink-600 hover:text-sage-500` styling
- [ ] Icon: FileText from lucide-react
- [ ] Appears alongside other nav items (History, Saved, Profile)
- [ ] Typecheck passes
- [ ] Verify in browser using dev-browser skill

### US-006: Link profile page stats to My Briefs
**Description:** As a user, I want to click the "Briefs generated" stat on my profile to see my briefs.

**Acceptance Criteria:**
- [ ] Make the "Briefs generated" stat card clickable
- [ ] Links to `/my-briefs`
- [ ] Add hover effect: `hover:bg-ivory-200 cursor-pointer`
- [ ] Typecheck passes
- [ ] Verify in browser using dev-browser skill

### US-007: Add My Briefs to profile Quick Links section
**Description:** As a user, I want a dedicated My Briefs link in profile quick links.

**Acceptance Criteria:**
- [ ] Add "My Briefs" card to Quick Links grid (alongside Saved Briefs, Reading History)
- [ ] Icon: FileText with `bg-sage-100` container
- [ ] Title: "My Briefs" 
- [ ] Subtitle: "Briefs you've generated"
- [ ] Links to `/my-briefs`
- [ ] Matches existing card styling
- [ ] Typecheck passes
- [ ] Verify in browser using dev-browser skill

## Functional Requirements

- FR-1: `/my-briefs` page queries `briefs` table filtered by `user_id`
- FR-2: Only show briefs with `status = 'completed'` (not failed/pending)
- FR-3: Grid displays: question, clarity_score, metadata.tags, created_at
- FR-4: Navigation header shows "My Briefs" for authenticated users only
- FR-5: Profile page "Briefs generated" stat links to `/my-briefs`
- FR-6: Profile Quick Links includes My Briefs card
- FR-7: All colors use design system tokens (ivory/sage/ink)

## Non-Goals

- No delete brief functionality (out of scope for MVP)
- No brief renaming/editing
- No brief sharing/export
- No search/filter within My Briefs
- No pagination (show all, optimize later if needed)

## Design Considerations

- Reference: Homepage showcase briefs (`/app/page.tsx`) for card design
- Use `getClarityScoreStyles()` helper for consistent score badge colors
- Card pattern from skills/frontend/components/SKILL.md
- Ensure cards are keyboard navigable (links with focus states)

## Technical Considerations

- Query briefs table with user_id from auth
- Include: id, question, clarity_score, metadata (for tags), created_at
- Handle loading state with skeleton matching brand
- Consider adding limit + "Load more" if users generate many briefs

## Success Metrics

- Users can find their generated briefs in under 2 clicks from anywhere
- Page loads in under 1 second
- Visual consistency with homepage (brand audit passes)
- No accessibility violations

## Open Questions

- Should we show brief status (if we add pending/failed states later)?
- Should cards show excerpt/summary preview?
- Pagination strategy for users with 50+ briefs?
